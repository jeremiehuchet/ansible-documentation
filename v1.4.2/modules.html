<?php
require('../wp-blog-header.php');
get_header();
?>

<div class="row">
	<div class="container">
		<?php if (function_exists('bootstrapwp_breadcrumbs')) bootstrapwp_breadcrumbs(); ?>
	</div><!--/.container -->
</div><!--/.row -->








<div class="container doc-content">
<div class="row clear-both">
    <!-- BEGIN LEFT-SIDEBAR -->
    
<div id="left-sidebar" class="span3 sidebar">
    <div class="side-nav sidebar-block left-side-nav">
      <ul><li><a href="/docs/"><strong>Documentation Home</strong></a></li></ul>
        
                <ul>
<li><a class="reference internal" href="#">Ansible Modules</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#reading-module-documentation-locally">Reading Module Documentation Locally</a></li>
<li><a class="reference internal" href="#writing-your-own-modules">Writing your own modules</a></li>
</ul>
</li>
</ul>

        
      <hr />
      <div class="qsButton pagination-centered" />
        <a href="/quickstart"><button class="btn btn-primary" type="button">Quick Start Video</button></a>
      </div>
    </div>
</div>

    <!-- END LEFT-SIDEBAR -->
     <!-- BEGIN ARTICLE CONTENT AREA -->
    <div class="span8 main-column two-columns-left">
        
  <div class="section" id="ansible-modules">
<h1><a class="toc-backref" href="#id1">Ansible Modules</a><a class="headerlink" href="#ansible-modules" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#ansible-modules" id="id1">Ansible Modules</a><ul>
<li><a class="reference internal" href="#introduction" id="id2">Introduction</a></li>
<li><a class="reference internal" href="#reading-module-documentation-locally" id="id3">Reading Module Documentation Locally</a></li>
<li><a class="reference internal" href="#writing-your-own-modules" id="id4">Writing your own modules</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="introduction">
<span id="modules-intro"></span><h2><a class="toc-backref" href="#id2">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Ansible ships with a number of modules (called the &#8216;module library&#8217;)
that can be executed directly on remote hosts or through <a class="reference internal" href="playbooks.html"><em>Playbooks</em></a>.
Users can also write their own modules.   These modules can control system
resources, like services, packages, or files (anything really), or
handle executing system commands.</p>
<p>Let&#8217;s review how we execute three different modules from the command line:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ansible webservers -m service -a &quot;name=httpd state=running&quot;
ansible webservers -m ping
ansible webservers -m command -a &quot;/sbin/reboot -t now&quot;
</pre></div>
</div>
<p>Each module supports taking arguments.  Nearly all modules take <code class="docutils literal"><span class="pre">key=value</span></code>
arguments, space delimited.  Some modules take no arguments, and the
command/shell modules simply take the string of the command you want to run.</p>
<p>From playbooks, Ansible modules are executed in a very similar way:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>- name: reboot the servers
  action: command /sbin/reboot -t now
</pre></div>
</div>
<p>Version 0.8 and higher support the following shorter syntax:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>- name: reboot the servers
  command: /sbin/reboot -t now
</pre></div>
</div>
<p>All modules technically return JSON format data, though if you are using the
command line or playbooks, you don&#8217;t really need to know much about
that.  If you&#8217;re writing your own module, you care, and this means you do
not have to write modules in any particular language &#8211; you get to choose.</p>
<p>Modules are <cite>idempotent</cite>, meaning they will seek to avoid changes to the system unless a change needs to be made.  When using Ansible
playbooks, these modules can trigger &#8216;change events&#8217; in the form of notifying &#8216;handlers&#8217;
to run additional tasks.</p>
<p>Documentation for each module can be accessed from the command line with the
ansible-doc as well as the man command:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ansible-doc command

man ansible.template
</pre></div>
</div>
<p>Let&#8217;s see what&#8217;s available in the Ansible module library, out of the box:</p>
</div>
<div class="section" id="reading-module-documentation-locally">
<span id="ansible-doc"></span><h2><a class="toc-backref" href="#id3">Reading Module Documentation Locally</a><a class="headerlink" href="#reading-module-documentation-locally" title="Permalink to this headline">¶</a></h2>
<p>ansible-doc is a friendly command line tool that allows you to access module documentation locally.
It comes with Ansible.</p>
<p>To list documentation for a particular module:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ansible-doc yum | less
</pre></div>
</div>
<p>To list all modules available:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">ansible</span><span class="o">-</span><span class="n">doc</span> <span class="o">--</span><span class="nb">list</span> <span class="o">|</span> <span class="n">less</span>
</pre></div>
</div>
<p>To access modules outside of the stock module path (such as custom modules that live in your playbook directory),
use the &#8216;&#8211;module-path&#8217; option to specify the directory where the module lives.</p>
</div>
<div class="section" id="writing-your-own-modules">
<span id="writing-modules"></span><h2><a class="toc-backref" href="#id4">Writing your own modules</a><a class="headerlink" href="#writing-your-own-modules" title="Permalink to this headline">¶</a></h2>
<p>See <a class="reference internal" href="developing_modules.html"><em>Developing Modules</em></a>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="intro_adhoc.html"><em>Introduction To Ad-Hoc Commands</em></a></dt>
<dd>Examples of using modules in /usr/bin/ansible</dd>
<dt><a class="reference internal" href="playbooks.html"><em>Intro to Playbooks</em></a></dt>
<dd>Examples of using modules with /usr/bin/ansible-playbook</dd>
<dt><a class="reference internal" href="developing_modules.html"><em>Developing Modules</em></a></dt>
<dd>How to write your own modules</dd>
<dt><a class="reference internal" href="developing_api.html"><em>Python API</em></a></dt>
<dd>Examples of using modules with the Python API</dd>
<dt><a class="reference external" href="http://groups.google.com/group/ansible-project">Mailing List</a></dt>
<dd>Questions? Help? Ideas?  Stop by the list on Google Groups</dd>
<dt><a class="reference external" href="http://irc.freenode.net">irc.freenode.net</a></dt>
<dd>#ansible IRC chat channel</dd>
</dl>
</div>
</div>
</div>


    </div><!-- END ARTICLE CONTENT AREA -->
</div> <!-- class=row -->
</div> <!-- class=container -->

<?php get_footer('home'); ?>