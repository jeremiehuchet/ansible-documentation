<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Best Practices &mdash; Ansible v1.1 Documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/ansible-local.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.01',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  false
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/bootstrap-dropdown.js"></script>
    <script type="text/javascript" src="_static/bootstrap-scrollspy.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="Ansible v1.1 Documentation" href="index.html" />
    <link rel="next" title="YAML Syntax" href="YAMLSyntax.html" />
    <link rel="prev" title="Advanced Playbooks" href="playbooks2.html" />
<script type="text/javascript">
(function () {
  /**
   * Patch TOC list.
   *
   * Will mutate the underlying span to have a correct ul for nav.
   *
   * @param $span: Span containing nested UL's to mutate.
   * @param minLevel: Starting level for nested lists. (1: global, 2: local).
   */
  var patchToc = function ($span, minLevel) {
    var $tocList = $("<ul/>").attr('class', "dropdown-menu"),
      findA;

    // Find all a "internal" tags, traversing recursively.
    findA = function ($elem, level) {
      var level = level || 0,
        $items = $elem.find("> li > a.internal, > ul, > li > ul");

      // Iterate everything in order.
      $items.each(function (index, item) {
        var $item = $(item),
          tag = item.tagName.toLowerCase(),
          pad = 10 + ((level - minLevel) * 10);

        if (tag === 'a' && level >= minLevel) {
          // Add to existing padding.
          $item.css('padding-left', pad + "px");
          // Add list element.
          $tocList.append($("<li/>").append($item));
        } else if (tag === 'ul') {
          // Recurse.
          findA($item, level + 1);
        }
      });
    };

    // Start construction and return.
    findA($span);

    // Wipe out old list and patch in new one.
    return $span.empty("ul").append($tocList);
  };

  $(document).ready(function () {
    // Patch the global and local TOC's to be bootstrap-compliant.
    patchToc($("span.globaltoc"), 1);
    patchToc($("span.localtoc"), 2);

    // Activate.
    $('#topbar').dropdown();
  });
}());
</script>

<script type="text/javascript">

 var _gaq = _gaq || [];
 _gaq.push(['_setAccount', 'UA-29861888-1']);
 _gaq.push(['_trackPageview']);

 (function() {
   var ga = document.createElement('script'); ga.type =
'text/javascript'; ga.async = true;
   ga.src = ('https:' == document.location.protocol ? 'https://ssl' :
'http://www') + '.google-analytics.com/ga.js';
   var s = document.getElementsByTagName('script')[0];
s.parentNode.insertBefore(ga, s);
 })();

</script>
<script type="text/javascript">
// Set the maximum height of drop down menus to just less than the height
// of the viewport.
var set_max_menu_height = function () {

  // set menu max height to 75 less than viewport height
  $('.dropdown-menu').css('max-height', $(window).height() - 75); 
}

// Set this when we set the page up and on each resize.
$(window).resize(set_max_menu_height);
$(window).ready(set_max_menu_height);

</script>


  </head>
  <body role="document">
  <div class="topbar" data-scrollspy="scrollspy" >
    <div class="topbar-inner">
      <div class="container">
        <!-- <a class="brand" href="index.html">Ansible v1.1</a> -->
        <ul class="nav">
          
            <li><a href="/">Home</A>
	    <li class="dropdown" data-dropdown="dropdown">
  <a href="index.html"
     class="dropdown-toggle">Chapter</a>
  <span class="globaltoc"><ul>
<li class="toctree-l1"><a class="reference internal" href="gettingstarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="patterns.html">Inventory &amp; Patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Command Line Examples And Next Steps</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Ansible Modules</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="playbooks.html">Playbooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="playbooks2.html">Advanced Playbooks</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="YAMLSyntax.html">YAML Syntax</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/ansible/ansible-examples">Example Playbooks</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">API &amp; Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="moduledev.html">Module Development</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contrib.html">Ansible Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>
</span>
</li>
            <li class="dropdown" data-dropdown="dropdown">
  <a href="#"
     class="dropdown-toggle">Section</a>
  <span class="localtoc"><ul>
<li><a class="reference internal" href="#">Best Practices</a><ul>
<li><a class="reference internal" href="#content-organization">Content Organization</a><ul>
<li><a class="reference internal" href="#directory-layout">Directory Layout</a></li>
<li><a class="reference internal" href="#how-to-arrange-inventory-stage-vs-production">How to Arrange Inventory, Stage vs Production</a></li>
<li><a class="reference internal" href="#group-and-host-variables">Group And Host Variables</a></li>
<li><a class="reference internal" href="#top-level-playbooks-are-seperated-by-role">Top Level Playbooks Are Seperated By Role</a></li>
<li><a class="reference internal" href="#task-and-handler-organization-for-a-role">Task And Handler Organization For A Role</a></li>
<li><a class="reference internal" href="#what-this-organization-enables-examples">What This Organization Enables (Examples)</a></li>
<li><a class="reference internal" href="#deployment-vs-configuration-organization">Deployment vs Configuration Organization</a></li>
</ul>
</li>
<li><a class="reference internal" href="#stage-vs-production">Stage vs Production</a></li>
<li><a class="reference internal" href="#rolling-updates">Rolling Updates</a></li>
<li><a class="reference internal" href="#always-mention-the-state">Always Mention The State</a></li>
<li><a class="reference internal" href="#group-by-roles">Group By Roles</a></li>
<li><a class="reference internal" href="#operating-system-and-distribution-variance">Operating System and Distribution Variance</a></li>
<li><a class="reference internal" href="#bundling-ansible-modules-with-playbooks">Bundling Ansible Modules With Playbooks</a></li>
<li><a class="reference internal" href="#whitespace-and-comments">Whitespace and Comments</a></li>
<li><a class="reference internal" href="#always-name-tasks">Always Name Tasks</a></li>
<li><a class="reference internal" href="#keep-it-simple">Keep It Simple</a></li>
<li><a class="reference internal" href="#version-control">Version Control</a></li>
</ul>
</li>
</ul>
</span>
</li>
          
        </ul>
        <ul class="nav secondary-nav">
          
            
<form class="pull-left" action="search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </ul>
      </div>
    </div>
  </div>


<div class="container">
   
  <div class="section" id="best-practices">
<h1><a class="toc-backref" href="#contents">Best Practices</a><a class="headerlink" href="#best-practices" title="Permalink to this headline">Â¶</a></h1>
<a class="reference external image-reference" href="http://ansibleworks.com/fest/"><img alt="ansiblefest 2013" src="http://ansible.cc/docs/_static/ansible_fest_2013.png" /></a>
<p>Here are some tips for making the most of Ansible.</p>
<p>You can find some example playbooks illustrating these best practices in our <a class="reference external" href="https://github.com/ansible/ansible-examples">ansible-examples repository</a>.</p>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#best-practices" id="id1">Best Practices</a><ul>
<li><a class="reference internal" href="#content-organization" id="id2">Content Organization</a></li>
<li><a class="reference internal" href="#stage-vs-production" id="id3">Stage vs Production</a></li>
<li><a class="reference internal" href="#rolling-updates" id="id4">Rolling Updates</a></li>
<li><a class="reference internal" href="#always-mention-the-state" id="id5">Always Mention The State</a></li>
<li><a class="reference internal" href="#group-by-roles" id="id6">Group By Roles</a></li>
<li><a class="reference internal" href="#operating-system-and-distribution-variance" id="id7">Operating System and Distribution Variance</a></li>
<li><a class="reference internal" href="#bundling-ansible-modules-with-playbooks" id="id8">Bundling Ansible Modules With Playbooks</a></li>
<li><a class="reference internal" href="#whitespace-and-comments" id="id9">Whitespace and Comments</a></li>
<li><a class="reference internal" href="#always-name-tasks" id="id10">Always Name Tasks</a></li>
<li><a class="reference internal" href="#keep-it-simple" id="id11">Keep It Simple</a></li>
<li><a class="reference internal" href="#version-control" id="id12">Version Control</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="content-organization">
<h2><a class="toc-backref" href="#contents">Content Organization</a><a class="headerlink" href="#content-organization" title="Permalink to this headline">Â¶</a></h2>
<p>The following section shows one of many possible ways to organize content.   Your usage of Ansible should fit your needs,
so feel free to modify this approach and organize as you see fit.</p>
<div class="section" id="directory-layout">
<h3>Directory Layout<a class="headerlink" href="#directory-layout" title="Permalink to this headline">Â¶</a></h3>
<p>The top level of the directory would contain files and directories like so:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>production            # inventory file for production servers
stage                 # inventory file for stage environment

group_vars/
   group1             # here we assign variables to particular groups
   group2             # &quot;&quot;
host_vars/
   hostname1          # if systems need specific variables, put them here
   hostname2          # &quot;&quot;

site.yml              # master playbook
webservers.yml        # playbook for webserver tier
dbservers.yml         # playbook for dbserver tier

common/               # this hierarchy represents a &quot;role&quot;
    tasks/            #
        main.yml      #  &lt;-- tasks file can include smaller files if warranted
    handlers/         #
        main.yml      #  &lt;-- handlers file
    templates/        #  &lt;-- files for use with the template resource
        ntp.conf.j2   #  &lt;------- templates end in .j2
    files/            #
        bar.txt       #  &lt;-- files for use with the copy resource

webtier/              # same kind of structure as &quot;common&quot; was above, done for the webtier role
monitoring/           # &quot;&quot;
fooapp/               # &quot;&quot;
</pre></div>
</div>
</div>
<div class="section" id="how-to-arrange-inventory-stage-vs-production">
<h3>How to Arrange Inventory, Stage vs Production<a class="headerlink" href="#how-to-arrange-inventory-stage-vs-production" title="Permalink to this headline">Â¶</a></h3>
<p>In this example, the <em>production</em> file contains the inventory of all of your production hosts.  Of course you can pull inventory from an external
data source as well, but this is just a basic example.  Define groups based on purpose of the host (roles) and also geography or datacenter location:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span># file: production

[atlanta-webservers]
www-atl-1.example.com
www-atl-2.example.com

[boston-webservers]
www-bos-1.example.com
www-bos-2.example.com

[atlanta-dbservers]
db-atl-1.example.com
db-atl-2.example.com

[boston-dbservers]
db-bos-1.example.com

# webservers in all geos
[webservers:children]
atlanta-webservers
boston-webservers

# dbservers in all geos
[dbservers:children]
atlanta-dbservers
boston-dbservers

# everything in the atlanta geo
[atlanta:children]
atlanta-webservers
atlanta-dbservers

# everything in the boston geo
[boston:children]
boston-webservers
boston-dbservers
</pre></div>
</div>
</div>
<div class="section" id="group-and-host-variables">
<h3>Group And Host Variables<a class="headerlink" href="#group-and-host-variables" title="Permalink to this headline">Â¶</a></h3>
<p>Now, groups are nice for organization, but that&#8217;s not all groups are good for.  You can also assign variables to them!  For instance, atlanta
has it&#8217;s own NTP servers, so when settings up ntp.conf, we should use them.  Let&#8217;s set those now:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>---
# file: group_vars/atlanta
ntp: ntp-atlanta.example.com
backup: backup-atlanta.example.com
</pre></div>
</div>
<p>Variables aren&#8217;t just for geographic information either!  Maybe the webservers have some configuration that doesn&#8217;t make sense for the database
servers:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>---
# file: group_vars/webservers
apacheMaxRequestsPerChild: 3000
apacheMaxClients: 900
</pre></div>
</div>
<p>If we had any default values, or values that were universally true, we would put them in a file called group_vars/all:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>---
# file: group_vars/all
ntp: ntp-boston.example.com
backup: backup-boston.example.com
</pre></div>
</div>
<p>We can define specific hardware variance in systems in a host_vars file, but avoid doing this unless you need to:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>---
# file: host_vars/db-bos-1.example.com
foo_agent_port: 86
bar_agent_port: 99
</pre></div>
</div>
</div>
<div class="section" id="top-level-playbooks-are-seperated-by-role">
<h3>Top Level Playbooks Are Seperated By Role<a class="headerlink" href="#top-level-playbooks-are-seperated-by-role" title="Permalink to this headline">Â¶</a></h3>
<p>In site.yml, we include a playbook that defines our entire infrastructure.  Note this is SUPER short, because it&#8217;s just including
some other playbooks.  Remember playbooks are nothing more than lists of plays:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>---
# file: site.yml
- include: webservers.yml
- include: dbservers.yml
</pre></div>
</div>
<p>In a file like webservers.yml (also at the top level), we simply map the configuration of the webservers group to the roles performed by the webservers group.  Also notice this is incredibly short.  For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>---
# file: webservers.yml
- hosts: webservers
  tasks:
    - include: common/tasks/main.yml tags=common
    - include: webtier/tasks/main.yml tags=webtier
  handlers:
    - include: common/handlers/main.yml
    - include: webtier/handlers/main.yml
</pre></div>
</div>
</div>
<div class="section" id="task-and-handler-organization-for-a-role">
<h3>Task And Handler Organization For A Role<a class="headerlink" href="#task-and-handler-organization-for-a-role" title="Permalink to this headline">Â¶</a></h3>
<p>This file is just mapping hosts to the roles they fulfill.  Now, below is an example tasks file, that explains how a role works.  Our common role here just sets up NTP, but it could do more if we wanted:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>---
# file: common/tasks/main.yml

- name: be sure ntp is installed
  yum: pkg=ntp state=installed
  tags: ntp

- name: be sure ntp is configured
  template: src=common/templates/ntp.conf.j2 dest=/etc/ntp.conf
  notify:
    - restart ntpd
  tags: ntp

- name: be sure ntpd is running and enabled
  service: name=ntpd state=running enabled=yes
  tags: ntp
</pre></div>
</div>
<p>Here is an example handlers file.  As a review, handlers are only fired when certain tasks report changes, and are run at the end
of each play:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>---
# file: common/handlers/main.yml
- name: restart ntpd
  service: name=ntpd state=restarted
</pre></div>
</div>
</div>
<div class="section" id="what-this-organization-enables-examples">
<h3>What This Organization Enables (Examples)<a class="headerlink" href="#what-this-organization-enables-examples" title="Permalink to this headline">Â¶</a></h3>
<p>So that&#8217;s our basic organizational structure.</p>
<p>Now what sort of use cases does this layout enable?  Lots!  If I want to reconfigure my whole infrastructure, it&#8217;s just:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ansible-playbook -i production site.yml
</pre></div>
</div>
<p>What about just reconfiguring NTP on everything?  Easy.:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ansible-playbook -i production site.yml --tags ntp
</pre></div>
</div>
<p>What about just reconfiguring my webservers?:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ansible-playbook -i production webservers.yml
</pre></div>
</div>
<p>What about just my webservers in Boston?:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ansible-playbook -i production webservers.yml --limit boston
</pre></div>
</div>
<p>What about just the first 10, and then the next 10?:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ansible-playbook -i production webservers.yml --limit boston[0-10]
ansible-playbook -i production webservers.yml --limit boston[10-20]
</pre></div>
</div>
<p>And of course just basic ad-hoc stuff is also possible.:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>ansible -i production -m ping
ansible -i production -m command -a &#39;/sbin/reboot&#39; --limit boston
</pre></div>
</div>
<p>And there are some useful commands (at least in 1.1 to know):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span># confirm what task names would be run if I ran this command and said &quot;just ntp tasks&quot;
ansible-playbook -i production webservers.yml --tags ntp --list-tasks

# confirm what hostnames might be communicated with if I said &quot;limit to boston&quot;
ansible-playbook -i production webservers.yml --limit boston --list-hosts
</pre></div>
</div>
</div>
<div class="section" id="deployment-vs-configuration-organization">
<h3>Deployment vs Configuration Organization<a class="headerlink" href="#deployment-vs-configuration-organization" title="Permalink to this headline">Â¶</a></h3>
<p>The above setup models a typical OS configuration topology.  When doing multi-tier deployments, there are going
to be some additional playbooks that hop between tiers to roll out an application.  In this case, &#8216;site.yml&#8217;
may be augmented by playbooks like &#8216;deploy_exampledotcom.yml&#8217; but the general concepts can still apply.</p>
<p>Ansible allows you to deploy and configure using the same tool, so you would likely reuse groups and just
keep the OS configuration in seperate playbooks from the app deployment.</p>
</div>
</div>
<div class="section" id="stage-vs-production">
<h2><a class="toc-backref" href="#contents">Stage vs Production</a><a class="headerlink" href="#stage-vs-production" title="Permalink to this headline">Â¶</a></h2>
<p>As also mentioned above, a good way to keep your stage (or testing) and production environments seperate is to use a seperate inventory file for stage
and production.   This way you pick with -i what you are targetting.  Keeping them all in one file can lead to surprises!</p>
<p>Testing things in a stage environment before trying in production is always a great idea.  Your environments need not be the same
size and you can use group variables to control the differences between those environments.</p>
</div>
<div class="section" id="rolling-updates">
<h2><a class="toc-backref" href="#contents">Rolling Updates</a><a class="headerlink" href="#rolling-updates" title="Permalink to this headline">Â¶</a></h2>
<p>Understand the &#8216;serial&#8217; keyword.  If updating a webserver farm you really want to use it to control how many machines you are
updating at once in the batch.</p>
</div>
<div class="section" id="always-mention-the-state">
<h2><a class="toc-backref" href="#contents">Always Mention The State</a><a class="headerlink" href="#always-mention-the-state" title="Permalink to this headline">Â¶</a></h2>
<p>The &#8216;state&#8217; parameter is optional to a lot of modules.  Whether &#8216;state=present&#8217; or &#8216;state=absent&#8217;, it&#8217;s always best to leave that
parameter in your playbooks to make it clear, especially as some modules support additional states.</p>
</div>
<div class="section" id="group-by-roles">
<h2><a class="toc-backref" href="#contents">Group By Roles</a><a class="headerlink" href="#group-by-roles" title="Permalink to this headline">Â¶</a></h2>
<p>A system can be in multiple groups.  See <a class="reference internal" href="patterns.html"><em>Inventory &amp; Patterns</em></a>.   Having groups named after things like
<em>webservers</em> and <em>dbservers</em> is repeated in the examples because it&#8217;s a very powerful concept.</p>
<p>This allows playbooks to target machines based on role, as well as to assign role specific variables
using the group variable system.</p>
</div>
<div class="section" id="operating-system-and-distribution-variance">
<h2><a class="toc-backref" href="#contents">Operating System and Distribution Variance</a><a class="headerlink" href="#operating-system-and-distribution-variance" title="Permalink to this headline">Â¶</a></h2>
<p>When dealing with a parameter that is different between two different operating systems, the best way to handle this is
by using the group_by module.</p>
<p>This makes a dynamic group of hosts matching certain criteria, even if that group is not defined in the inventory file:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>---

# talk to all hosts just so we can learn about them

- hosts: all
  tasks:
     - group_by: key=${ansible_distribution}

# now just on the CentOS hosts...

- hosts: CentOS
  gather_facts: False
  tasks:
     - # tasks that only happen on CentOS go here
</pre></div>
</div>
<p>If group specific settings are needed, this can also be done, for example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>---
# file: group_vars/all
asdf: 10

---
# file: group_vars/CentOS
asdf: 42
</pre></div>
</div>
<p>In the above example, CentOS machines get the value of &#8216;42&#8217; for asdf, but other machines get 10.</p>
</div>
<div class="section" id="bundling-ansible-modules-with-playbooks">
<h2><a class="toc-backref" href="#contents">Bundling Ansible Modules With Playbooks</a><a class="headerlink" href="#bundling-ansible-modules-with-playbooks" title="Permalink to this headline">Â¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified">New in version 0.5.</span></p>
</div>
<p>If a playbook has a &#8221;./library&#8221; directory relative to it&#8217;s YAML file, this directory can be used to add ansible modules that will
automatically be in the ansible module path.  This is a great way to keep modules that go with a playbook together.</p>
</div>
<div class="section" id="whitespace-and-comments">
<h2><a class="toc-backref" href="#contents">Whitespace and Comments</a><a class="headerlink" href="#whitespace-and-comments" title="Permalink to this headline">Â¶</a></h2>
<p>Generous use of whitespace to break things up, and use of comments (which start with &#8216;#&#8217;), is encouraged.</p>
</div>
<div class="section" id="always-name-tasks">
<h2><a class="toc-backref" href="#contents">Always Name Tasks</a><a class="headerlink" href="#always-name-tasks" title="Permalink to this headline">Â¶</a></h2>
<p>It is possible to leave off the &#8216;name&#8217; for a given task, though it is recommended to provide a description
about why something is being done instead.  This name is shown when the playbook is run.</p>
</div>
<div class="section" id="keep-it-simple">
<h2><a class="toc-backref" href="#contents">Keep It Simple</a><a class="headerlink" href="#keep-it-simple" title="Permalink to this headline">Â¶</a></h2>
<p>When you can do something simply, do something simply.  Do not reach
to use every feature of Ansible together, all at once.  Use what works
for you.  For example, you should probably not need &#8216;vars&#8217;,
&#8216;vars_files&#8217;, &#8216;vars_prompt&#8217; and &#8216;&#8211;extra-vars&#8217; all at once,
while also using an external inventory file.</p>
</div>
<div class="section" id="version-control">
<h2><a class="toc-backref" href="#contents">Version Control</a><a class="headerlink" href="#version-control" title="Permalink to this headline">Â¶</a></h2>
<p>Use version control.  Keep your playbooks and inventory file in git
(or another version control system), and commit when you make changes
to them.  This way you have an audit trail describing when and why you
changed the rules automating your infrastructure.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference internal" href="YAMLSyntax.html"><em>YAML Syntax</em></a></dt>
<dd>Learn about YAML syntax</dd>
<dt><a class="reference internal" href="playbooks.html"><em>Playbooks</em></a></dt>
<dd>Review the basic playbook features</dd>
<dt><a class="reference internal" href="modules.html"><em>Ansible Modules</em></a></dt>
<dd>Learn about available modules</dd>
<dt><a class="reference internal" href="moduledev.html"><em>Module Development</em></a></dt>
<dd>Learn how to extend Ansible by writing your own modules</dd>
<dt><a class="reference internal" href="patterns.html"><em>Inventory &amp; Patterns</em></a></dt>
<dd>Learn about how to select hosts</dd>
<dt><a class="reference external" href="https://github.com/ansible/ansible/tree/devel/examples/playbooks">Github examples directory</a></dt>
<dd>Complete playbook files from the github project source</dd>
<dt><a class="reference external" href="http://groups.google.com/group/ansible-project">Mailing List</a></dt>
<dd>Questions? Help? Ideas?  Stop by the list on Google Groups</dd>
</dl>
</div>
</div>
</div>


<br/>
</div>
<footer class="footer">
<center>
<a href="http://ansibleworks.com"><img src="http://ansible.cc/img/AnsibleWorks.png" alt="AnsibleWorks"></a>
<p>
        &copy; Copyright 2013 AnsibleWorks.<br/>
      Last updated on Feb 24, 2016.<br/>
    </p>
</div>
</center>
</footer>
  </body>
</html>